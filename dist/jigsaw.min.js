(()=>{"use strict";var t={902:function(t,e,n){n.d(e,{ZP:function(){return s}});var i=n(606),r=n.n(i),o=n(932),a=n.n(o)()(r());a.push([t.id,`.F_RogCNX2PrAPigwV8Ur {
  position: absolute;
  left: 0;
  top: 0;
  cursor: pointer;
  cursor: grab;
}

.F_RogCNX2PrAPigwV8Ur:active {
  cursor: grabbing;
}

.QKpnpFgxSiZbONATLT4v {
  position: relative;
  text-align: center;
  width: 310px;
  height: 40px;
  line-height: 40px;
  margin-top: 15px;
  background: #f7f9fa;
  color: #45494c;
  border: 1px solid #e4e7eb;
}

.IRIW2k3pJT9DUdMw5l8M .muuTPW7nDRteejilyPoK {
  height: 38px;
  top: -1px;
  border: 1px solid #1991FA;
}

.IRIW2k3pJT9DUdMw5l8M .rVFkJuGd9O6uyZOvq6Ws {
  height: 38px;
  border-width: 1px;
}

.rkVFOM1q_SwEvSr12se0 .muuTPW7nDRteejilyPoK {
  height: 38px;
  top: -1px;
  border: 1px solid #52CCBA;
  background-color: #52CCBA !important;
}

.rkVFOM1q_SwEvSr12se0 .rVFkJuGd9O6uyZOvq6Ws {
  height: 38px;
  border: 1px solid #52CCBA;
  background-color: #D2F4EF;
}

.rkVFOM1q_SwEvSr12se0 .YwKw4vN_wIsmV6Af7mH1 {
  background-position: 0 -26px!important;
}

.mSYn4Sp5QHQG8PXfxx1F .muuTPW7nDRteejilyPoK {
  height: 38px;
  top: -1px;
  border: 1px solid #f57a7a;
  background-color: #f57a7a !important;
}

.mSYn4Sp5QHQG8PXfxx1F .rVFkJuGd9O6uyZOvq6Ws {
  height: 38px;
  border: 1px solid #f57a7a;
  background-color: #fce1e1;
}

.mSYn4Sp5QHQG8PXfxx1F .YwKw4vN_wIsmV6Af7mH1 {
  top: 14px;
  background-position: 0 -82px !important;
}

.IRIW2k3pJT9DUdMw5l8M .iYVXnJk5LUGBBIA4QVvr, .rkVFOM1q_SwEvSr12se0 .iYVXnJk5LUGBBIA4QVvr, .mSYn4Sp5QHQG8PXfxx1F .iYVXnJk5LUGBBIA4QVvr {
  display: none;
}

.rVFkJuGd9O6uyZOvq6Ws {
  position: absolute;
  left: 0;
  top: 0;
  height: 40px;
  border: 0 solid #1991FA;
  background: #D1E9FE;
}

.muuTPW7nDRteejilyPoK {
  position: absolute;
  top: 0;
  left: 0;
  width: 40px;
  height: 40px;
  background: #fff;
  box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
  transition: background .2s linear;
  cursor: pointer;
  cursor: grab;
}

.muuTPW7nDRteejilyPoK:active {
  cursor: grabbing;
}

.muuTPW7nDRteejilyPoK:hover {
  background: #1991FA;
}

.YwKw4vN_wIsmV6Af7mH1 {
  position: absolute;
  top: 15px;
  left: 13px;
  width: 14px;
  height: 12px;
  background: url(https://cstaticdun.126.net//2.13.6/images/icon_light.4353d81.png) 0 -13px;
  background-size: 32px 544px;
}

.muuTPW7nDRteejilyPoK:hover .YwKw4vN_wIsmV6Af7mH1 {
  background-position: 0 0;
}

.OoKpdUVDN9UlAxaHSd_m {
  position: absolute;
  right: 5px;
  top: 5px;
  width: 30px;
  height: 30px;
  cursor: pointer;
  background: url(https://cstaticdun.126.net//2.13.6/images/icon_light.4353d81.png) 0 -233px;
  background-size: 32px 544px;
}

.OoKpdUVDN9UlAxaHSd_m:hover {
  background-position: 0 -266px;
}

.FGVeTujRNiXKT0BHiQ11 {
  position: absolute;
  left: 0;
  top: 0;
  width: 310px;
  height: 155px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-size: 14px;
  color: #45494c;
  z-index: 2;
  background: #EDF0F2;
}

.Ex9H8aI3slIurFqPGxNl {
  width: 32px;
  height: 32px;
  margin-bottom: 10px;
  background: url(https://cstaticdun.126.net//2.13.6/images/icon_light.4353d81.png) 0 -332px;
  background-size: 32px 544px;
  animation: ZR85wS7SUkLL87wLHrv0 0.8s linear infinite;
}

@keyframes ZR85wS7SUkLL87wLHrv0 {
  from { transform: rotate(0) }
  to { transform: rotate(360deg)}
}
`,""]);let s=a},932:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,i,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);if(!i||!a[u[0]])void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]&&(u[1]="@media ".concat(u[2]," {").concat(u[1],"}")),u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u)}},e}},606:function(t){t.exports=function(t){return t[1]}},520:function(t){var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var r={},o=[],a=0;a<t.length;a++){var s=t[a],c=i.base?s[0]+i.base:s[0],l=r[c]||0,u="".concat(c," ").concat(l);r[c]=l+1;var d=n(u),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var h=function(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css!==t.css||e.media!==t.media||e.sourceMap!==t.sourceMap||e.supports!==t.supports||e.layer!==t.layer)n.update(t=e)}else n.remove()}}(p,i);i.byIndex=a,e.splice(a,0,{identifier:u,updater:h,references:1})}o.push(u)}return o}t.exports=function(t,r){var o=i(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var c=i(t,r),l=0;l<o.length;l++){var u=n(o[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=c}}},516:function(t){var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},518:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},903:function(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},146:function(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){var i,r,o,a,s,c;i=e,r=t,a="",(o=n).supports&&(a+="@supports (".concat(o.supports,") {")),o.media&&(a+="@media ".concat(o.media," {")),(s=void 0!==o.layer)&&(a+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),a+=o.css,s&&(a+="}"),o.media&&(a+="}"),o.supports&&(a+="}"),(c=o.sourceMap)&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),r.styleTagTransform(a,i,r.options)},remove:function(){!function(t){if(null===t.parentNode)return;t.parentNode.removeChild(t)}(e)}}}},286:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,exports:{}};return t[i](o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.nc=void 0,n.rv=function(){return"1.0.7"},n.ruid="bundler=rspack@1.0.7";var i=n("520"),r=n.n(i),o=n("146"),a=n.n(o),s=n("516"),c=n.n(s),l=n("903"),u=n.n(l),d=n("518"),p=n.n(d),h=n("286"),f=n.n(h),v=n("902"),g={};g.styleTagTransform=f(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=p(),r()(v.ZP,g);let x=v.ZP&&v.ZP.locals?v.ZP.locals:void 0;function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var b=Math.PI,y=63;function k(t,e){return Math.round(Math.random()*(e-t)+t)}function w(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function C(t,e){var n=document.createElement(t);return e&&(n.className=x[e]),n}function S(t,e){t.className=x[e]}function T(t,e){t.classList.add(x[e])}function I(){return"https://picsum.photos/id/".concat(k(0,1084),"/").concat(310,"/").concat(155)}function P(t,e,n,i){t.beginPath(),t.moveTo(e,n),t.arc(e+21,n-9+2,9,.72*b,2.26*b),t.lineTo(e+42,n),t.arc(e+42+9-2,n+21,9,1.21*b,2.78*b),t.lineTo(e+42,n+42),t.lineTo(e,n+42),t.arc(e+9-2,n+21,9.4,2.76*b,1.24*b,!0),t.lineTo(e,n),t.lineWidth=2,t.fillStyle="rgba(255, 255, 255, 0.7)",t.strokeStyle="rgba(255, 255, 255, 0.7)",t.stroke(),t.globalCompositeOperation="destination-over","fill"===i?t.fill():t.clip()}function M(t,e){return t+e}function F(t){return t*t}var E=function(){var t,e,n;function i(t){var e=t.el,n=t.width,r=void 0===n?310:n,o=t.height,a=t.onSuccess,s=t.onFail,c=t.onRefresh;!function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,i),Object.assign(e.style,{position:"relative",width:r+"px",margin:"0 auto"}),this.width=r,this.height=void 0===o?155:o,this.el=e,this.onSuccess=a,this.onFail=s,this.onRefresh=c}return t=i,e=[{key:"init",value:function(){this.initDOM(),this.initImg(),this.bindEvents()}},{key:"initDOM",value:function(){var t=this.width,e=this.height,n=w(t,e),i=w(t,e);S(i,"block");var r=C("div","sliderContainer");r.style.width=t+"px",r.style.pointerEvents="none";var o=C("div","refreshIcon"),a=C("div","sliderMask"),s=C("div","slider"),c=C("span","sliderIcon"),l=C("span","sliderText");l.innerHTML="向右滑动填充拼图";var u=C("div","loadingContainer");u.style.width=t+"px",u.style.height=e+"px";var d=C("div","loadingIcon"),p=C("span");p.innerHTML="加载中...",u.appendChild(d),u.appendChild(p);var h=this.el;h.appendChild(u),h.appendChild(n),h.appendChild(o),h.appendChild(i),s.appendChild(c),a.appendChild(s),r.appendChild(a),r.appendChild(l),h.appendChild(r),Object.assign(this,{canvas:n,block:i,sliderContainer:r,loadingContainer:u,refreshIcon:o,slider:s,sliderMask:a,sliderIcon:c,text:l,canvasCtx:n.getContext("2d"),blockCtx:i.getContext("2d")})}},{key:"setLoading",value:function(t){this.loadingContainer.style.display=t?"":"none",this.sliderContainer.style.pointerEvents=t?"none":""}},{key:"initImg",value:function(){var t,e,n=this;var i=(t=function(){n.setLoading(!1),n.draw(i)},(e=new Image).crossOrigin="Anonymous",e.onload=t,e.onerror=function(){e.setSrc(I())},e.setSrc=function(t){if(window.navigator.userAgent.indexOf("Trident")>-1){var n=new XMLHttpRequest;n.onloadend=function(t){var n=new FileReader;n.readAsDataURL(t.target.response),n.onloadend=function(t){e.src=t.target.result}},n.open("GET",t),n.responseType="blob",n.send()}else e.src=t},e.setSrc(I()),e);this.img=i}},{key:"draw",value:function(t){var e=this.width,n=this.height;this.x=k(y+10,e-(y+10)),this.y=k(28,n-(y+10)),P(this.canvasCtx,this.x,this.y,"fill"),P(this.blockCtx,this.x,this.y,"clip"),this.canvasCtx.drawImage(t,0,0,e,n),this.blockCtx.drawImage(t,0,0,e,n);var i=this.y-18-1,r=this.blockCtx.getImageData(this.x-3,i,y,y);this.block.width=y,this.blockCtx.putImageData(r,0,i)}},{key:"bindEvents",value:function(){var t=this;this.el.onselectstart=function(){return!1},this.refreshIcon.onclick=function(){t.reset(),"function"==typeof t.onRefresh&&t.onRefresh()};var e,n,i=[],r=!1,o=function(t){e=t.clientX||t.touches[0].clientX,n=t.clientY||t.touches[0].clientY,r=!0},a=this.width,s=function(o){if(!r)return!1;o.preventDefault();var s=o.clientX||o.touches[0].clientX,c=o.clientY||o.touches[0].clientY,l=s-e,u=c-n;if(l<0||l+38>=a)return!1;t.slider.style.left=l+"px";t.block.style.left=(a-40-20)/(a-40)*l+"px",T(t.sliderContainer,"sliderContainer_active"),t.sliderMask.style.width=l+"px",i.push(u)},c=function(n){if(!r)return!1;if(r=!1,(n.clientX||n.changedTouches[0].clientX)===e)return!1;!function(t,e){t.classList.remove(x[e])}(t.sliderContainer,"sliderContainer_active"),t.trail=i;var o=t.verify(),a=o.spliced,s=o.verified;a?s?(T(t.sliderContainer,"sliderContainer_success"),"function"==typeof t.onSuccess&&t.onSuccess()):(T(t.sliderContainer,"sliderContainer_fail"),t.text.innerHTML="请再试一次",t.reset()):(T(t.sliderContainer,"sliderContainer_fail"),"function"==typeof t.onFail&&t.onFail(),setTimeout(t.reset.bind(t),1e3))};this.slider.addEventListener("mousedown",o),this.slider.addEventListener("touchstart",o),this.block.addEventListener("mousedown",o),this.block.addEventListener("touchstart",o),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s),document.addEventListener("mouseup",c),document.addEventListener("touchend",c)}},{key:"verify",value:function(){var t=this.trail,e=t.reduce(M)/t.length,n=Math.sqrt(t.map(function(t){return t-e}).map(F).reduce(M)/t.length);return{spliced:10>Math.abs(parseInt(this.block.style.left)-this.x),verified:0!==n}}},{key:"reset",value:function(){var t=this.width,e=this.height;S(this.sliderContainer,"sliderContainer"),this.slider.style.left="0px",this.block.width=t,this.block.style.left="0px",this.sliderMask.style.width="0px",this.canvasCtx.clearRect(0,0,t,e),this.blockCtx.clearRect(0,0,t,e),this.setLoading(!0),this.img.setSrc(I())}}],m(t.prototype,e),i}();window.jigsaw={init:function(t){return new E(t).init()}}})();